# Keep On Running!!
미니사구 (Mini4WD) 머신의 성능을 결정짓는 핵심 파츠 '모터'의 성능을 보다 객관적으로 확인하기 위한 여러 측정 방법 중 하나로 악기 튜너 등을 이용해 모터의 진동음을 수치화하여 보는 것이 있습니다. 보통 '파노(pano)' 값을 본다고 말하는데, 파노는 보통 '파노라마' 를 의미하는 경우가 많으며, 미니사구 커뮤니티에서 많이 사용하는 앱에서 말하는 Pano 역시 '모두, 전체'의 뜻으로 다양한 악기와 음색을 튜닝 할 수 있다는 의미로 사용되었다 알려져 있습니다. (이 프로젝트에선 앞으로도 미니사구 모터 진동음의 주파수를 '파노' 라 부르겠습니다.)

***MPAS = Mini4WD Pano Stick*** 은 M5StickC Plus2 의 내부 마이크를 이용하여 모터의 진동음을 수집해 주파수(Hz)로 보여주고, 다양한 옵션으로 머신의 성능을 가늠해 볼 수 있는 수치로 환산하여 함께 보여주는 것에 초점을 맞춰 만들어졌습니다.  

+ 모터의 주파수 수치  
+ 휠 사이즈와 기어비에 따른 예상속도  
  (주로 사용하는 휠과 기어비를 선정)  
+ 측정된 주파수에 기반한 모터의 예상 rpm  
+ 랩 타이머 (3랩 고정)
+ 경기장 이용시간 확인 등으로 활용 가능한 스톱워치
+ 경기장 이용 수칙[^참고1].과 경기장의 위치정보 링크

CE = Community Edition 은 누구나 쉽게 엠파스를 만들어 활용하고, 필요하면 직접 수정할 수 있도록 소스코드를 공유해 함께 만드는 것을 목표로 자주 사용하는 기능들만 넣어 간단하게 만들었습니다. 계속 사용/수정 해나가면서 필요한 부분은 보완해 나갈 예정입니다.   

 ----  
 ## 사용방법 ##  
 화면이 똑바로 보이는 위치 ('M5 버튼 = A 버튼' 이 오른쪽에 위치한 상태) 를 기준으로 위 - B 버튼 / 아래 - C 버튼 이 자리잡고 있습니다.   
 
 * C 버튼은 전원의 기능만 수행합니다. 길게 5초 이상 눌러 전원을 켜고 끌 수 있습니다. // 소리는 나지 않습니다.

 * B 버튼을 짧게 눌러 모드를 전환할 수 있습니다. // 소리가 납니다.
 * B 버튼을 2초 정도 눌렀다 때면 이전 모드로 전환됩니다. // 소리는 나지 않습니다.
 * B 버튼을 3초 이상 누르면 내부적으론 일부 모드에서 표시되는 값들이 초기화 되고, 손을 때면 화면이 업데이트 됩니다. (아래에 추가 설명) // 소리는 나지 않습니다.

 * 센서모드에서 A 버튼을 짧게 누르면 예상속도 계산에 사용되는 기어비가 변경됩니다. CE 에서는 가장 많이 사용하는 3.7(녹색) 과 3.5(하늘색) 기어비로 전환 가능하며, 좌측 상단에 휠 사이즈를 표시하고 있는 글자의 색 (= 실제 싱글섀시 기어의 색) 으로 확인할 수 있습니다. // 소리가 납니다.
 * 센서모드에서 A 버튼을 2초 이상 길게 눌렀다 때면 예상속도 계산에 사용되는 휠 사이즈가 변경됩니다. CE 에서는 가장 많이 사용하는 24mm(소경) 와 26mm(중경), 그리고 31mm(대경) 을 선정했으며 좌측 상단에 숫자로 표시됩니다. // 소리가 납니다.
 * 센서모드에서 B 버튼을 3초이상 눌렀다 때면 모든 측정값이 초기화 됩니다.

 * 스톱워치 모드는 A 버튼으로 시작/멈춤을 할 수 있고 3랩을 완주하면 최종 기록이 깜박이며 표시됩니다. // 소리가 납니다.
 * 스톱워치가 작동 중 혹은 완주 상태에 B 버튼을 길게 누르면 기록이 초기화 되고 화면이 업데이트 됩니다.

 * 경과시간 모드는 기계가 부팅된 시점에 자동으로 시작되며, A 버튼으로 일시정지, 1초 이상 길게 누를시 초기화 되며 자동으로 다시 시작됩니다. // 소리가 납니다.
 * 경과시간 모드에선 B 버튼을 길게 눌러도 시간이 초기화 되지 않으며 화면만 새로 업데이트 됩니다.

 * QR 모드에선 A 버튼을 짧게 눌러 화면에 보여줄 QR 코드를 순환할 수 있습니다.

----  
## ***참고사항*** ##

1. 센서모드에서 가만히 있거나 버튼을 누를때 순간적으로 측정값이 튀는 것은 버튼을 눌렀을때 혹은 가만히 있다가도 내부에서 발생하는 전기적 신호 등의 노이즈에 센서가 영향을 받아 발생하는 것으로, 이를 필터링 할 경우 현재로써는 실제 측정결과에도 영향을 받을 수 있어 수정하지 않았습니다. 기기마다 수율이 달라 그 정도가 달리 나타날 수도 있으며 이는 정상적인 반응입니다. 소스코드를 직접 수정하면 실제 앱으로 측정되는 값과의 오프셋을 맞출 수 있습니다. 다만, 실제 앱으로 측정할때도 주변환경이나 측정하는 기기, 앱의 버전에 따라서 그 수치가 다르게 나타나는 경우가 있어 주의가 필요합니다.

2. 센서모드에서 배터리 잔량이 수시로 변하는 것은 내부 전압 측정값에 민감하게 반응하기 때문이며, 별도의 조작이 없을 경우에 최대 약 3시간 까지 작동 가능합니다. 10% 이하로 떨어지면 기계의 LED와 함께 숫자가 깜박이게 되는데, 최저전압을 타이트하게 잡았으니 10%가 되기전에 충전해주세요. 충전은 일반적인 5V 짜리 충전기를 사용하시면 됩니다. 기회가 되면 별도의 배터리팩 제작법이나 추가 전원공급 방법 등을 기술하겠습니다.

3. QR 모드의 링크들은 많은 분들이 보셨으면 좋겠다 생각되 임의로 추가했습니다. 본 프로젝트와 당사자 분들과 직접적인 관계는 없습니다만 부디 많은 관심과 응원, 그리고 홍보 부탁드립니다. 특히, 미니카에 막 입문하신 분들께는 더 없이 좋은 내용들이라 생각됩니다. (지도 빼고....;;;;)


### 이 프로젝트에 많은 관심 가져주셔서 감사합니다. ###  
  
추가 기능이나 보완할 사항 등이 있으면 알려주세요. 반영할 수 있도록 하겠습니다.


[^참고1]: Mini4WD Team UNDERDOG 의 [존중 캠페인](https://www.helloabt.com/mini4wd/) 페이지로 링크됩니다. 많은 관심과 응원, 홍보 부탁드립니다.
